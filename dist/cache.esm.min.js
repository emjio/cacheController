/*!
 * cachecontroller v1.1.0
 * (c) 2020-2021 emjio
 * Released under the MIT License.
 */
class e{#e=0;#s=new Map;#i={};#t=10;#h=3;constructor(e){const{maxSize:s,maxUseTime:i}={...e};if(s<=0||isNaN(s))throw new Error("maxSize should be a number");if(i<=0||isNaN(i))throw new Error("maxSize should be a number");this.#t=s,this.#h=i,this.axiosInstance=e.axios}setCache(e,s){for(;this.#e+s.size>this.#t&&0!==this.#e;)this.removeEarliestCache();this.#s.set(e,s),this.#i[e]=0,this.#e+=s.size}haveCache(e){return this.#s.has(e)}getCache(e){let s=null;return e in this.#i&&(s=this.#s.get(e).data,this.#i[e]+=1,this.#i[e]>=this.#h&&this.deleteCache(e)),s}removeEarliestCache(){const e=Object.keys(this.#i).sort(((e,s)=>this.#i[e]-this.#i[s]))[0];delete this.#i[e],this.#e-=this.#s.get(e).size,this.#s.delete(e)}deleteCache(e){this.#s.has(e)&&(delete this.#i[e],this.#e-=this.#s.get(e).size,this.#s.delete(e))}}export{e as default};
